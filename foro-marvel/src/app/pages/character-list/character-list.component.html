<section class="container min-height">
  <div class="row">
    <div class="col-12">
      <h2 class="section-title">Últimos Comics</h2>
      <app-comic></app-comic>
      <h2 class="section-title mt-4">Eventos Destacados</h2>
      <app-event></app-event>
      <h2 class="section-title mt-4">Listado de personajes</h2>
      <span class="overlay" *ngIf="loading"></span>
      <div class="spinner" *ngIf="loading">
        <mat-progress-spinner mode="indeterminate" diameter="30">
        </mat-progress-spinner>
      </div>
      <app-search-bar (search)="onSearch($event)"></app-search-bar>
      <ng-container *ngIf="!loading">
        <p>{{ totalCharacters }} RESULTADOS</p>
        <ng-container *ngIf="totalCharacters > 0; else noCharacters">
          <div class="display-characters">
            <ng-container *ngFor="let character of characters">
              <app-character [character]="character"></app-character>
            </ng-container>
          </div>
        </ng-container>
        <ng-template #noCharacters>
          <div class="alert alert-warning" role="alert">
            No hay personajes que coincidan con tu búsqueda.
          </div>
        </ng-template>
        <app-pagination
          (cambiarPagina)="cambiarPagina($event)"
          [texto]="true"
          [totalRegistros]="totalCharacters"
          [registroActual]="posicionactual + 1"
          [registrosPorPagina]="registrosporpagina"></app-pagination>
      </ng-container>
    </div>
  </div>
</section>
